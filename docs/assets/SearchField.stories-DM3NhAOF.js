import{R as e}from"./iframe-DPTEoTx4.js";import{I as q}from"./Icon-eIzZENis.js";const t=e.forwardRef(({value:a,defaultValue:f="",placeholder:i="Search",disabled:n=!1,size:o="medium",showCancel:c=!1,fullWidth:s=!1,onChange:r,onSearch:y,onCancel:g,className:G="",testId:K,...M},j)=>{const[S,v]=e.useState(a??f),[P,k]=e.useState(!1);e.useEffect(()=>{a!==void 0&&v(a)},[a]);const $=l=>{const N=l.target.value;a===void 0&&v(N),r==null||r(N)},H=l=>{l.key==="Enter"&&(y==null||y(S))},w=()=>{const l="";a===void 0&&v(l),r==null||r(l)},J=()=>{w(),g==null||g()},b=a!==void 0?a:S,x=b&&!n,U=c&&(P||b),X={small:"px-8 py-2 text-ios-footnote min-h-[32px]",medium:"px-10 py-3 text-ios-body min-h-[44px]",large:"px-12 py-4 text-ios-callout min-h-[52px]"},Y="bg-fill-secondary dark:bg-fill-secondary-dark border border-transparent focus:border-systemBlue-500 focus:bg-background-primary dark:focus:bg-background-tertiary-dark transition-all duration-200 ease-ios focus:outline-none rounded-ios text-label-primary dark:text-label-primary-dark placeholder:text-label-tertiary dark:placeholder:text-label-tertiary-dark",Z=n?"opacity-50 cursor-not-allowed bg-fill-quaternary dark:bg-fill-quaternary-dark":"",ee=s?"w-full":"",ae=[Y,X[o],Z,ee,x?"pr-8":"",G].filter(Boolean).join(" "),E=o==="small"?16:o==="large"?24:20;return e.createElement("div",{className:`flex items-center gap-2 ${s?"w-full":""}`},e.createElement("div",{className:"relative flex-1"},e.createElement("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 transform"},e.createElement(q,{name:"search",size:E,color:"tertiary"})),e.createElement("input",{ref:j,type:"text",className:ae,value:b,placeholder:i,disabled:n,onChange:$,onKeyDown:H,onFocus:()=>k(!0),onBlur:()=>k(!1),"data-testid":K,...M}),x&&e.createElement("button",{type:"button",onClick:w,className:"absolute right-3 top-1/2 -translate-y-1/2 transform text-label-tertiary transition-colors hover:text-label-secondary dark:text-label-tertiary-dark dark:hover:text-label-secondary-dark","aria-label":"Clear search"},e.createElement(q,{name:"close",size:E}))),U&&e.createElement("button",{type:"button",onClick:J,className:"px-2 text-systemBlue-500 transition-colors text-ios-body hover:text-systemBlue-600 dark:text-systemBlue-400 dark:hover:text-systemBlue-300"},"Cancel"))});t.displayName="SearchField";t.__docgenInfo={description:"iOS-inspired search field component with search icon and cancel functionality",methods:[],displayName:"SearchField",props:{value:{required:!1,tsType:{name:"string"},description:"Search value"},defaultValue:{required:!1,tsType:{name:"string"},description:"Default search value",defaultValue:{value:'""',computed:!1}},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text",defaultValue:{value:'"Search"',computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"Is the search field disabled?",defaultValue:{value:"false",computed:!1}},size:{required:!1,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:"Search field size",defaultValue:{value:'"medium"',computed:!1}},showCancel:{required:!1,tsType:{name:"boolean"},description:"Show cancel button",defaultValue:{value:"false",computed:!1}},fullWidth:{required:!1,tsType:{name:"boolean"},description:"Full width search field",defaultValue:{value:"false",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"Change handler"},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"Search handler"},onCancel:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Cancel handler"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes",defaultValue:{value:'""',computed:!1}},testId:{required:!1,tsType:{name:"string"},description:"Test ID for testing"}}};const se={title:"Form Controls/SearchField",component:t,parameters:{layout:"centered",docs:{description:{component:"iOS-inspired search field component with search icon and cancel functionality."}}},tags:["autodocs"]},d={},u={args:{showCancel:!0}},m={args:{value:"Search query",showCancel:!0}},p={render:()=>e.createElement("div",{className:"w-80 space-y-4"},e.createElement(t,{size:"small",placeholder:"Small search"}),e.createElement(t,{size:"medium",placeholder:"Medium search"}),e.createElement(t,{size:"large",placeholder:"Large search"}))},h={render:()=>{const[a,f]=e.useState(""),[i,n]=e.useState([]),o=c=>{const s=["Apple","Banana","Orange","Grape"].filter(r=>r.toLowerCase().includes(c.toLowerCase()));n(s)};return e.createElement("div",{className:"w-80 space-y-4"},e.createElement(t,{value:a,onChange:f,onSearch:o,showCancel:!0,placeholder:"Search fruits..."}),i.length>0&&e.createElement("div",{className:"rounded-ios bg-background-secondary p-4 dark:bg-background-secondary-dark"},e.createElement("h3",{className:"mb-2 font-semibold"},"Results:"),e.createElement("ul",{className:"space-y-1"},i.map((c,s)=>e.createElement("li",{key:s,className:"text-sm"},c)))))}};var C,V,F;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:"{}",...(F=(V=d.parameters)==null?void 0:V.docs)==null?void 0:F.source}}};var R,T,z;u.parameters={...u.parameters,docs:{...(R=u.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    showCancel: true
  }
}`,...(z=(T=u.parameters)==null?void 0:T.docs)==null?void 0:z.source}}};var B,I,D;m.parameters={...m.parameters,docs:{...(B=m.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {
    value: "Search query",
    showCancel: true
  }
}`,...(D=(I=m.parameters)==null?void 0:I.docs)==null?void 0:D.source}}};var L,O,W;p.parameters={...p.parameters,docs:{...(L=p.parameters)==null?void 0:L.docs,source:{originalSource:`{
  render: () => <div className="w-80 space-y-4">\r
      <SearchField size="small" placeholder="Small search" />\r
      <SearchField size="medium" placeholder="Medium search" />\r
      <SearchField size="large" placeholder="Large search" />\r
    </div>
}`,...(W=(O=p.parameters)==null?void 0:O.docs)==null?void 0:W.source}}};var _,A,Q;h.parameters={...h.parameters,docs:{...(_=h.parameters)==null?void 0:_.docs,source:{originalSource:`{
  render: () => {
    const [query, setQuery] = React.useState("");
    const [results, setResults] = React.useState<string[]>([]);
    const handleSearch = (value: string) => {
      // Simulate search results
      const mockResults = ["Apple", "Banana", "Orange", "Grape"].filter(item => item.toLowerCase().includes(value.toLowerCase()));
      setResults(mockResults);
    };
    return <div className="w-80 space-y-4">\r
        <SearchField value={query} onChange={setQuery} onSearch={handleSearch} showCancel placeholder="Search fruits..." />\r
        {results.length > 0 && <div className="rounded-ios bg-background-secondary p-4 dark:bg-background-secondary-dark">\r
            <h3 className="mb-2 font-semibold">Results:</h3>\r
            <ul className="space-y-1">\r
              {results.map((result, index) => <li key={index} className="text-sm">\r
                  {result}\r
                </li>)}\r
            </ul>\r
          </div>}\r
      </div>;
  }
}`,...(Q=(A=h.parameters)==null?void 0:A.docs)==null?void 0:Q.source}}};const le=["Default","WithCancel","WithValue","Sizes","Interactive"];export{d as Default,h as Interactive,p as Sizes,u as WithCancel,m as WithValue,le as __namedExportsOrder,se as default};
